from django.shortcuts import render, get_object_or_404, redirect

# Create your views here.
from django.http import HttpResponse, Http404
from .models import Question

list = [['0350.jpg', '1398.jpg'],
        ['0351.jpg', '1399.jpg'],
        ['0352.jpg', '1400.jpg'],
        ['0353.jpg', '1401.jpg'],
        ['0354.jpg', '1402.jpg'],
        ['0355.jpg', '1403.jpg'],
        ['0386.jpg', '1444.jpg'],
        ['0390.jpg', '1448.jpg'],
        ['0392.jpg', '1450.jpg'],
        ['0393.jpg', '1451.jpg'],
        ['0394.jpg', '1452.jpg'],
        ['0395.jpg', '1453.jpg'],
        ['0396.jpg', '1454.jpg'],
        ['0399.jpg', '1459.jpg'],
        ['0400.jpg', '1460.jpg'],
        ['0401.jpg', '1461.jpg'],
        ['0525.jpg', '1601.jpg'],
        ['0526.jpg', '1602.jpg'],
        ['0526.jpg', '1604.jpg'],
        ['0527.jpg', '1603.jpg'],
        ['0527.jpg', '1605.jpg'],
        ['0528.jpg', '1604.jpg'],
        ['0528.jpg', '1606.jpg'],
        ['0529.jpg', '1605.jpg'],
        ['0529.jpg', '1607.jpg'],
        ['0530.jpg', '1606.jpg'],
        ['0530.jpg', '1608.jpg'],
        ['0531.jpg', '1607.jpg'],
        ['0531.jpg', '1609.jpg'],
        ['0532.jpg', '1608.jpg'],
        ['0532.jpg', '1610.jpg'],
        ['0533.jpg', '1609.jpg'],
        ['0533.jpg', '1611.jpg'],
        ['0534.jpg', '1612.jpg'],
        ['0535.jpg', '1611.jpg'],
        ['0535.jpg', '1613.jpg'],
        ['0536.jpg', '1612.jpg'],
        ['0536.jpg', '1614.jpg'],
        ['0537.jpg', '1613.jpg'],
        ['0537.jpg', '1615.jpg'],
        ['0538.jpg', '1616.jpg'],
        ['0539.jpg', '1615.jpg'],
        ['0539.jpg', '1617.jpg'],
        ['0540.jpg', '1616.jpg'],
        ['0540.jpg', '1618.jpg'],
        ['0541.jpg', '1617.jpg'],
        ['0541.jpg', '1619.jpg'],
        ['0542.jpg', '1618.jpg'],
        ['0542.jpg', '1620.jpg'],
        ['0543.jpg', '1619.jpg'],
        ['0544.jpg', '1620.jpg'],
        ['0545.jpg', '1621.jpg'],
        ['0547.jpg', '1623.jpg'],
        ['0569.jpg', '1647.jpg'],
        ['0570.jpg', '1648.jpg'],
        ['0701.jpg', '1769.jpg'],
        ['0703.jpg', '1771.jpg'],
        ['0705.jpg', '1773.jpg'],
        ['0749.jpg', '1819.jpg'],
        ['0938.jpg', '2016.jpg'],
        ['0939.jpg', '2017.jpg'],
        ['0940.jpg', '2018.jpg'],
        ['0941.jpg', '2019.jpg'],
        ['0942.jpg', '2020.jpg'],
        ['0943.jpg', '2021.jpg'],
        ['0944.jpg', '2022.jpg'],
        ['0945.jpg', '2023.jpg'],
        ['0946.jpg', '2024.jpg'],
        ['0947.jpg', '2025.jpg'],
        ['0948.jpg', '2026.jpg'],
        ['0949.jpg', '2027.jpg'],
        ['0950.jpg', '2028.jpg'],
        ['0951.jpg', '2029.jpg'],
        ['0952.jpg', '2030.jpg'],
        ['0953.jpg', '2031.jpg'],
        ['0954.jpg', '2032.jpg'],
        ['0955.jpg', '2033.jpg'],
        ['0956.jpg', '2034.jpg'],
        ['0957.jpg', '2035.jpg'],
        ['0958.jpg', '2036.jpg'],
        ['0959.jpg', '2037.jpg'],
        ['0960.jpg', '2038.jpg'],
        ['0961.jpg', '2039.jpg'],
        ['0962.jpg', '2040.jpg'],
        ['0963.jpg', '2041.jpg'],
        ['0964.jpg', '2042.jpg'],
        ['0964.jpg', '2044.jpg'],
        ['0965.jpg', '2043.jpg'],
        ['0966.jpg', '2044.jpg'],
        ['0977.jpg', '2055.jpg'],
        ['0978.jpg', '2056.jpg'],
        ['0984.jpg', '2062.jpg'],
        ['0985.jpg', '2063.jpg'],
        ['0986.jpg', '2064.jpg'],
        ['0987.jpg', '2065.jpg'],
        ['0988.jpg', '2066.jpg'],
        ['0989.jpg', '2067.jpg'],
        ['0990.jpg', '2068.jpg'],
        ['0991.jpg', '2069.jpg'],
        ['0992.jpg', '2070.jpg'],
        ['0993.jpg', '2071.jpg'],
        ['0994.jpg', '2072.jpg'],
        ['0995.jpg', '2073.jpg'],
        ['0996.jpg', '2074.jpg'],
        ['0997.jpg', '2075.jpg'],
        ['1001.jpg', '2079.jpg'],
        ['1002.jpg', '2080.jpg'],
        ['1003.jpg', '2081.jpg'],
        ['1004.jpg', '2082.jpg'],
        ['1005.jpg', '2083.jpg'],
        ['1071.jpg', '2147.jpg'],
        ['1072.jpg', '2148.jpg'],
        ['1073.jpg', '2149.jpg'],
        ['1148.jpg', '2222.jpg'],
        ['1204.jpg', '2282.jpg'],
        ['1205.jpg', '2283.jpg'],
        ['1206.jpg', '2284.jpg'],
        ['1207.jpg', '2285.jpg'],
        ['1216.jpg', '2294.jpg'],
        ['1224.jpg', '2302.jpg'],
        ['1225.jpg', '2303.jpg'],
        ['1226.jpg', '2304.jpg'],
        ['1227.jpg', '2305.jpg'],
        ['1228.jpg', '2306.jpg'],
        ['1228.jpg', '2308.jpg'],
        ['1229.jpg', '2307.jpg'],
        ['1229.jpg', '2309.jpg'],
        ['1230.jpg', '2308.jpg'],
        ['1230.jpg', '2310.jpg'],
        ['1231.jpg', '2309.jpg'],
        ['1231.jpg', '2311.jpg'],
        ['1232.jpg', '2310.jpg'],
        ['1233.jpg', '2313.jpg'],
        ['1241.jpg', '2319.jpg'],
        ['1242.jpg', '2320.jpg'],
        ['1243.jpg', '2321.jpg'],
        ['1244.jpg', '2322.jpg'],
        ['1245.jpg', '2323.jpg'],
        ['1246.jpg', '2324.jpg'],
        ['1247.jpg', '2325.jpg'],
        ['1248.jpg', '2326.jpg'],
        ['1249.jpg', '2327.jpg'],
        ['1273.jpg', '2353.jpg'],
        ['1274.jpg', '2354.jpg'],
        ['1275.jpg', '2355.jpg'],
        ['1276.jpg', '2356.jpg'],
        ['1282.jpg', '2360.jpg'],
        ['1283.jpg', '2361.jpg'],
        ['1284.jpg', '2362.jpg'],
        ['1285.jpg', '2363.jpg'],
        ['1286.jpg', '2364.jpg'],
        ['1287.jpg', '2365.jpg'],
        ['1288.jpg', '2366.jpg'],
        ['1289.jpg', '2367.jpg'],
        ['1290.jpg', '2368.jpg'],
        ['1291.jpg', '2369.jpg'],
        ['1296.jpg', '2374.jpg'],
        ['1299.jpg', '2377.jpg'],
        ['1300.jpg', '2378.jpg'],
        ['1301.jpg', '2379.jpg'],
        ['1302.jpg', '2378.jpg'],
        ['1302.jpg', '2380.jpg'],
        ['1303.jpg', '2379.jpg'],
        ['1303.jpg', '2381.jpg'],
        ['1304.jpg', '2380.jpg'],
        ['1304.jpg', '2382.jpg'],
        ['1305.jpg', '2381.jpg'],
        ['1305.jpg', '2383.jpg'],
        ['1306.jpg', '2382.jpg'],
        ['1340.jpg', '2422.jpg'],
        ['1341.jpg', '2423.jpg'],
        ['1342.jpg', '2422.jpg'],
        ['1342.jpg', '2424.jpg'],
        ['1343.jpg', '2423.jpg'],
        ['1345.jpg', '2425.jpg'],
        ['1346.jpg', '2426.jpg'],
        ['1348.jpg', '2428.jpg']]

def index(request):
    latest_question_list = Question.objects.order_by('-pub_date')[:5]
    context = {'latest_question_list': list}
    return render(request, 'polls/index.html', context)

def detail(request, question_id):
    try:
        question = Question.objects.get(pk=question_id)
    except Question.DoesNotExist:
        raise Http404("Question does not exist")
    return render(request, 'polls/detail.html', {'question': question})

def vote(request, question_id):
    question = get_object_or_404(Question, pk=question_id)
    try:
        selected_choice = question.choice_set.get(pk=request.POST['choice'])
    except:
        return render(request, 'polls/detail.html', {
            'question': question,
            'error_message': "You didn't select a choice."
        })
    else:
        selected_choice.votes += 1
        selected_choice.save()
        return redirect('results', question_id=question.id)

def results(request):
    return render(request, 'polls/results.html', {})